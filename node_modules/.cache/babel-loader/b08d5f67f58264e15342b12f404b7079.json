{"ast":null,"code":"import _slicedToArray from \"/home/allie/Project/client-thecurrent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/allie/Project/client-thecurrent/src/components/Home/Home.jsx\";\nimport \"./Home.css\";\nimport { Card, Container } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button } from \"@mantine/core\";\nimport Footer from \"../Footer/Footer\";\nimport { Loader } from \"@mantine/core\";\nimport NavBar from \"../NavBar/NavBar\";\nimport NewsCard from \"../NewsCards/NewsCard\";\nimport Purify from \"../../utils/Purify\";\nimport SelectForm from \"../SelectForm/SelectForm\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function Home() {\n  var _this = this;\n\n  var navigate = useNavigate();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      category = _useState2[0],\n      setCategory = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      blogs = _useState6[0],\n      setBlogs = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      latestNews = _useState8[0],\n      setLatestNews = _useState8[1];\n\n  useEffect(function () {\n    var fetchPosts = function fetchPosts() {\n      axios.get(\"\".concat(process.env.REACT_APP_BASE_URL, \"/api/user/posts\")).then(function (res) {\n        setBlogs(res.data.blogs);\n        setLatestNews(res.data.blogs.slice(-5).reverse());\n        setLoading(!loading);\n      }).catch(function (err) {// set error, to display to user\n        // console.log(err);\n      });\n    };\n\n    fetchPosts();\n  }, []);\n\n  var handlePost = function handlePost(id) {\n    navigate(\"/news/\".concat(id));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"latest-news\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, latestNews.length > 0 ? latestNews.map(function (blog) {\n    return /*#__PURE__*/React.createElement(NewsCard, {\n      key: blog._id,\n      img: blog.image,\n      date: new Date(blog.created_at).toDateString(),\n      title: blog.title,\n      category: blog.category,\n      onClick: function onClick() {\n        handlePost(blog._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 19\n      }\n    });\n  }) : null), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    size: \"lg\",\n    variant: \"bars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"explore\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"main-heading\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"Explore news posts:\"), /*#__PURE__*/React.createElement(SelectForm, {\n    errorMsg: false,\n    category: category,\n    placeholder: \"Category\",\n    setCategory: setCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    ml: 10,\n    onClick: function onClick() {\n      return setCategory(\"\");\n    },\n    variant: \"subtle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"Cancel\")), blogs.length > 5 ? blogs.slice(5).reverse().map(function (blog) {\n    if (category === \"\" || category === null) {\n      return /*#__PURE__*/React.createElement(Card, {\n        className: \"blog-card\",\n        key: blog._id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 23\n        }\n      }, blog.cloudinaryId ? /*#__PURE__*/React.createElement(Card.Img, {\n        variant: \"top\",\n        src: blog.image,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 27\n        }\n      }) : null, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 27\n        }\n      }, blog.title), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"createdAt\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"date\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 29\n        }\n      }, new Date(blog.created_at).toDateString()), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"category\",\n        onClick: function onClick() {\n          return setCategory(blog.category);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 29\n        }\n      }, Purify(blog.category))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"blog-items\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"readMore\",\n        onClick: function onClick() {\n          handlePost(blog._id);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 29\n        }\n      }, \"Read More\"))));\n    } else {\n      if (category === blog.category) {\n        return /*#__PURE__*/React.createElement(Card, {\n          className: \"blog-card\",\n          key: blog._id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }\n        }, blog.cloudinaryId ? /*#__PURE__*/React.createElement(Card.Img, {\n          variant: \"top\",\n          src: blog.image,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 29\n          }\n        }) : null, /*#__PURE__*/React.createElement(Card.Body, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }\n        }, blog.title), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"createdAt\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"date\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 31\n          }\n        }, new Date(blog.created_at).toDateString()), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"category\",\n          onClick: function onClick() {\n            return setCategory(blog.category);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 31\n          }\n        }, Purify(blog.category))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"blog-items\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          className: \"readMore\",\n          onClick: function onClick() {\n            handlePost(blog._id);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 31\n          }\n        }, \"Read More\"))));\n      } else {\n        return null;\n      }\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, \"No Post Available\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/allie/Project/client-thecurrent/src/components/Home/Home.jsx"],"names":["Card","Container","React","useEffect","useState","Button","Footer","Loader","NavBar","NewsCard","Purify","SelectForm","axios","useNavigate","Home","navigate","category","setCategory","loading","setLoading","blogs","setBlogs","latestNews","setLatestNews","fetchPosts","get","process","env","REACT_APP_BASE_URL","then","res","data","slice","reverse","catch","err","handlePost","id","length","map","blog","_id","image","Date","created_at","toDateString","title","cloudinaryId"],"mappings":"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","sourcesContent":["import \"./Home.css\";\n\nimport { Card, Container } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { Button } from \"@mantine/core\";\nimport Footer from \"../Footer/Footer\";\nimport { Loader } from \"@mantine/core\";\nimport NavBar from \"../NavBar/NavBar\";\nimport NewsCard from \"../NewsCards/NewsCard\";\nimport Purify from \"../../utils/Purify\";\nimport SelectForm from \"../SelectForm/SelectForm\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Home() {\n  const navigate = useNavigate();\n  const [category, setCategory] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [blogs, setBlogs] = useState([]);\n  const [latestNews, setLatestNews] = useState([]);\n\n  useEffect(() => {\n    const fetchPosts = () => {\n      axios\n        .get(`${process.env.REACT_APP_BASE_URL}/api/user/posts`)\n        .then((res) => {\n          setBlogs(res.data.blogs);\n          setLatestNews(res.data.blogs.slice(-5).reverse());\n          setLoading(!loading);\n        })\n        .catch((err) => {\n          // set error, to display to user\n          // console.log(err);\n        });\n    };\n    fetchPosts();\n  }, []);\n\n  const handlePost = (id) => {\n    navigate(`/news/${id}`);\n  };\n\n  return (\n    <>\n      <NavBar />\n      <div className=\"home-container\">\n        <div className=\"latest-news\">\n          {latestNews.length > 0\n            ? latestNews.map((blog) => {\n                return (\n                  <NewsCard\n                    key={blog._id}\n                    img={blog.image}\n                    date={new Date(blog.created_at).toDateString()}\n                    title={blog.title}\n                    category={blog.category}\n                    onClick={() => {\n                      handlePost(blog._id);\n                    }}\n                  />\n                );\n              })\n            : null}\n        </div>\n        {loading ? (\n          <div className=\"loader\">\n            <Loader size=\"lg\" variant=\"bars\" />\n          </div>\n        ) : (\n          <Container>\n            <div className=\"explore\">\n              <h1 className=\"main-heading\" align=\"center\">\n                Explore news posts:\n              </h1>\n              <SelectForm\n                errorMsg={false}\n                category={category}\n                placeholder=\"Category\"\n                setCategory={setCategory}\n              />\n              <Button ml={10} onClick={() => setCategory(\"\")} variant=\"subtle\">\n                Cancel\n              </Button>\n            </div>\n            {blogs.length > 5 ? (\n              blogs\n                .slice(5)\n                .reverse()\n                .map((blog) => {\n                  if (category === \"\" || category === null) {\n                    return (\n                      <Card className=\"blog-card\" key={blog._id}>\n                        {blog.cloudinaryId ? (\n                          <Card.Img variant=\"top\" src={blog.image} />\n                        ) : null}\n                        <Card.Body>\n                          <h1>{blog.title}</h1>\n                          <div className=\"createdAt\">\n                            <span className=\"date\">\n                              {new Date(blog.created_at).toDateString()}\n                            </span>\n                            <span\n                              className=\"category\"\n                              onClick={() => setCategory(blog.category)}\n                            >\n                              {Purify(blog.category)}\n                            </span>\n                          </div>\n                          <div className=\"blog-items\">\n                            <Button\n                              className=\"readMore\"\n                              onClick={() => {\n                                handlePost(blog._id);\n                              }}\n                            >\n                              Read More\n                            </Button>\n                          </div>\n                        </Card.Body>\n                      </Card>\n                    );\n                  } else {\n                    if (category === blog.category) {\n                      return (\n                        <Card className=\"blog-card\" key={blog._id}>\n                          {blog.cloudinaryId ? (\n                            <Card.Img variant=\"top\" src={blog.image} />\n                          ) : null}\n                          <Card.Body>\n                            <h1>{blog.title}</h1>\n                            <div className=\"createdAt\">\n                              <span className=\"date\">\n                                {new Date(blog.created_at).toDateString()}\n                              </span>\n                              <span\n                                className=\"category\"\n                                onClick={() => setCategory(blog.category)}\n                              >\n                                {Purify(blog.category)}\n                              </span>\n                            </div>\n                            <div className=\"blog-items\">\n                              <Button\n                                className=\"readMore\"\n                                onClick={() => {\n                                  handlePost(blog._id);\n                                }}\n                              >\n                                Read More\n                              </Button>\n                            </div>\n                          </Card.Body>\n                        </Card>\n                      );\n                    } else {\n                      return null;\n                    }\n                  }\n                })\n            ) : (\n              <>\n                <h1>No Post Available</h1>\n                <p></p>\n              </>\n            )}\n          </Container>\n        )}\n      </div>\n      <Footer />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}