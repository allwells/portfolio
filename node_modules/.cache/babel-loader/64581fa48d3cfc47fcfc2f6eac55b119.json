{"ast":null,"code":"import _slicedToArray from \"/home/allie/Project/client-thecurrent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/allie/Project/client-thecurrent/src/components/Home/Home.jsx\";\nimport \"./Home.css\";\nimport { Card, Container } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button } from \"@mantine/core\";\nimport CategoryBadge from \"../Badge/CategoryBadge\";\nimport DatePublished from \"../DatePublished/DatePublished\";\nimport Footer from \"../Footer/Footer\";\nimport { Loader } from \"@mantine/core\";\nimport NavBar from \"../NavBar/NavBar\";\nimport NewsCard from \"../NewsCards/NewsCard\";\nimport Purify from \"../../utils/Purify\";\nimport SelectForm from \"../SelectForm/SelectForm\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function Home() {\n  var _this = this;\n\n  var navigate = useNavigate();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      category = _useState2[0],\n      setCategory = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      blogs = _useState6[0],\n      setBlogs = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      latestNews = _useState8[0],\n      setLatestNews = _useState8[1];\n\n  useEffect(function () {\n    var fetchPosts = function fetchPosts() {\n      axios.get(\"\".concat(process.env.REACT_APP_BASE_URL, \"/posts\")).then(function (res) {\n        setBlogs(res.data.blogs.reverse().slice(5));\n        setLatestNews(res.data.blogs.reverse().slice(-5).reverse());\n        setLoading(!loading);\n      }).catch(function (err) {// set error, to display to user\n        // console.log(err);\n      });\n    };\n\n    fetchPosts();\n  }, []);\n\n  var handlePost = function handlePost(id) {\n    navigate(\"/news/\".concat(id));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"latest-news\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, latestNews.length > 0 ? latestNews.map(function (blog) {\n    return /*#__PURE__*/React.createElement(NewsCard, {\n      key: blog._id,\n      blog: blog,\n      onClick: function onClick() {\n        handlePost(blog._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }\n    });\n  }) : null), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    size: \"sm\",\n    variant: \"bars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: blogs.length > 0 ? \"explore\" : \"no-explore\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"main-heading\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, \"Explore news posts:\"), /*#__PURE__*/React.createElement(SelectForm, {\n    errorMsg: false,\n    category: category,\n    placeholder: \"Category\",\n    setCategory: setCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    ml: 10,\n    onClick: function onClick() {\n      return setCategory(\"\");\n    },\n    variant: \"subtle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, \"Cancel\")), blogs.length > 0 ? blogs.map(function (blog) {\n    if (category === \"\" || category === null) {\n      return /*#__PURE__*/React.createElement(Card, {\n        className: \"blog-card\",\n        key: blog._id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      }, blog.cloudinaryId ? /*#__PURE__*/React.createElement(Card.Img, {\n        variant: \"top\",\n        src: blog.image,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }\n      }) : null, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }\n      }, blog.title), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"createdAt\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(DatePublished, {\n        blog: blog,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(CategoryBadge, {\n        blog: blog,\n        onClick: function onClick() {\n          return setCategory(\"\");\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"blog-items\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"readMore\",\n        onClick: function onClick() {\n          handlePost(blog._id);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 27\n        }\n      }, \"Read More\"))));\n    } else {\n      if (category === blog.category) {\n        return /*#__PURE__*/React.createElement(Card, {\n          className: \"blog-card\",\n          key: blog._id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 23\n          }\n        }, blog.cloudinaryId ? /*#__PURE__*/React.createElement(Card.Img, {\n          variant: \"top\",\n          src: blog.image,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 27\n          }\n        }) : null, /*#__PURE__*/React.createElement(Card.Body, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 27\n          }\n        }, blog.title), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"createdAt\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"date\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 29\n          }\n        }, new Date(blog.created_at).toDateString()), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"category\",\n          onClick: function onClick() {\n            return setCategory(blog.category);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 29\n          }\n        }, Purify(blog.category))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"blog-items\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          className: \"readMore\",\n          onClick: function onClick() {\n            handlePost(blog._id);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }\n        }, \"Read More\"))));\n      } else {\n        return null;\n      }\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"no-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, \"No Post Available\")))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/allie/Project/client-thecurrent/src/components/Home/Home.jsx"],"names":["Card","Container","React","useEffect","useState","Button","CategoryBadge","DatePublished","Footer","Loader","NavBar","NewsCard","Purify","SelectForm","axios","useNavigate","Home","navigate","category","setCategory","loading","setLoading","blogs","setBlogs","latestNews","setLatestNews","fetchPosts","get","process","env","REACT_APP_BASE_URL","then","res","data","reverse","slice","catch","err","handlePost","id","length","map","blog","_id","cloudinaryId","image","title","Date","created_at","toDateString"],"mappings":"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","sourcesContent":["import \"./Home.css\";\n\nimport { Card, Container } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { Button } from \"@mantine/core\";\nimport CategoryBadge from \"../Badge/CategoryBadge\";\nimport DatePublished from \"../DatePublished/DatePublished\";\nimport Footer from \"../Footer/Footer\";\nimport { Loader } from \"@mantine/core\";\nimport NavBar from \"../NavBar/NavBar\";\nimport NewsCard from \"../NewsCards/NewsCard\";\nimport Purify from \"../../utils/Purify\";\nimport SelectForm from \"../SelectForm/SelectForm\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Home() {\n  const navigate = useNavigate();\n  const [category, setCategory] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [blogs, setBlogs] = useState([]);\n  const [latestNews, setLatestNews] = useState([]);\n\n  useEffect(() => {\n    const fetchPosts = () => {\n      axios\n        .get(`${process.env.REACT_APP_BASE_URL}/posts`)\n        .then((res) => {\n          setBlogs(res.data.blogs.reverse().slice(5));\n          setLatestNews(\n            res.data.blogs\n              .reverse()\n              .slice(-5)\n              .reverse()\n          );\n          setLoading(!loading);\n        })\n        .catch((err) => {\n          // set error, to display to user\n          // console.log(err);\n        });\n    };\n    fetchPosts();\n  }, []);\n\n  const handlePost = (id) => {\n    navigate(`/news/${id}`);\n  };\n\n  return (\n    <>\n      <NavBar />\n      <div className=\"home-container\">\n        <div className=\"latest-news\">\n          {latestNews.length > 0\n            ? latestNews.map((blog) => {\n                return (\n                  <NewsCard\n                    key={blog._id}\n                    blog={blog}\n                    onClick={() => {\n                      handlePost(blog._id);\n                    }}\n                  />\n                );\n              })\n            : null}\n        </div>\n        {loading ? (\n          <div className=\"loader\">\n            <Loader size=\"sm\" variant=\"bars\" />\n          </div>\n        ) : (\n          <Container>\n            <div className={blogs.length > 0 ? \"explore\" : \"no-explore\"}>\n              <h1 className=\"main-heading\" align=\"center\">\n                Explore news posts:\n              </h1>\n              <SelectForm\n                errorMsg={false}\n                category={category}\n                placeholder=\"Category\"\n                setCategory={setCategory}\n              />\n              <Button ml={10} onClick={() => setCategory(\"\")} variant=\"subtle\">\n                Cancel\n              </Button>\n            </div>\n            {blogs.length > 0 ? (\n              blogs.map((blog) => {\n                if (category === \"\" || category === null) {\n                  return (\n                    <Card className=\"blog-card\" key={blog._id}>\n                      {blog.cloudinaryId ? (\n                        <Card.Img variant=\"top\" src={blog.image} />\n                      ) : null}\n                      <Card.Body>\n                        <h1>{blog.title}</h1>\n                        <div className=\"createdAt\">\n                          <DatePublished blog={blog} />\n                          <CategoryBadge\n                            blog={blog}\n                            onClick={() => setCategory(\"\")}\n                          />\n                        </div>\n                        <div className=\"blog-items\">\n                          <Button\n                            className=\"readMore\"\n                            onClick={() => {\n                              handlePost(blog._id);\n                            }}\n                          >\n                            Read More\n                          </Button>\n                        </div>\n                      </Card.Body>\n                    </Card>\n                  );\n                } else {\n                  if (category === blog.category) {\n                    return (\n                      <Card className=\"blog-card\" key={blog._id}>\n                        {blog.cloudinaryId ? (\n                          <Card.Img variant=\"top\" src={blog.image} />\n                        ) : null}\n                        <Card.Body>\n                          <h1>{blog.title}</h1>\n                          <div className=\"createdAt\">\n                            <span className=\"date\">\n                              {new Date(blog.created_at).toDateString()}\n                            </span>\n                            <span\n                              className=\"category\"\n                              onClick={() => setCategory(blog.category)}\n                            >\n                              {Purify(blog.category)}\n                            </span>\n                          </div>\n                          <div className=\"blog-items\">\n                            <Button\n                              className=\"readMore\"\n                              onClick={() => {\n                                handlePost(blog._id);\n                              }}\n                            >\n                              Read More\n                            </Button>\n                          </div>\n                        </Card.Body>\n                      </Card>\n                    );\n                  } else {\n                    return null;\n                  }\n                }\n              })\n            ) : (\n              <>\n                <h1 className=\"no-post\">No Post Available</h1>\n              </>\n            )}\n          </Container>\n        )}\n      </div>\n      <Footer />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}