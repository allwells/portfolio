{"ast":null,"code":"import _slicedToArray from \"/home/allie/Project/client-thecurrent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/allie/Project/client-thecurrent/src/components/NavBar/NavBar.jsx\";\nimport \"./NavBar.css\";\nimport { Burger, Button } from \"@mantine/core\";\nimport { Container, Form, FormControl, Nav, Navbar } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport ExtendedNav from \"./ExtendedNav\";\nimport { Search } from \"tabler-icons-react\";\nimport anchorLogo from \"../../img/anchor-logo.png\";\nimport axios from \"axios\";\nimport thecurrentLogo from \"../../img/thecurrent-logo.png\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useViewportSize } from \"@mantine/hooks\";\nexport default function NavBar() {\n  var navigate = useNavigate();\n  var viewPort = useViewportSize();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loggedIn = _useState2[0],\n      setLoggedIn = _useState2[1]; // eslint-disable-next-line\n\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1]; // eslint-disable-next-line\n\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      query = _useState8[0],\n      setQuery = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      opened = _useState10[0],\n      setOpened = _useState10[1];\n\n  useEffect(function () {\n    if (localStorage.getItem(\"token\")) {\n      setLoggedIn(true);\n      axios.post(\"\".concat(process.env.REACT_APP_BASE_URL, \"/data\"), {\n        token: localStorage.getItem(\"token\")\n      }).then(function (res) {\n        setName(res.data.name);\n        setEmail(res.data.email);\n      }).catch(function (err) {\n        localStorage.removeItem(\"token\");\n        setLoggedIn(false);\n      });\n    }\n  }, []);\n\n  var _logout = function logout() {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    navigate(\"/\");\n  };\n\n  var handleSearch = function handleSearch(e) {\n    e.preventDefault();\n    navigate(\"/search/\".concat(query));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ExtendedNav, {\n    opened: opened,\n    loggedIn: loggedIn,\n    closeButton: function closeButton() {\n      return setOpened(function (o) {\n        return !o;\n      });\n    },\n    logout: function logout() {\n      return _logout();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Navbar, {\n    collapseOnSelect: true,\n    expand: \"lg\",\n    sticky: \"top\",\n    variant: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    onClick: function onClick() {\n      navigate(\"/\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: anchorLogo,\n    height: 35,\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: thecurrentLogo,\n    height: 35,\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n    \"aria-controls\": \"responsive-navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    className: \"searchBar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    className: \"d-flex\",\n    onSubmit: function onSubmit(e) {\n      handleSearch(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    value: query,\n    type: \"search\",\n    \"aria-label\": \"Search\",\n    placeholder: \"Search\",\n    className: \"me-2 w-100\",\n    onChange: function onChange(e) {\n      setQuery(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"search-button\",\n    type: \"submit\",\n    variant: \"subtle\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    color: \"#368dd6\",\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  })))), loggedIn ? viewPort.width <= 768 ? /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    radius: \"xl\",\n    variant: \"outline\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    onClick: function onClick() {\n      return setOpened(function (o) {\n        return !o;\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \"Menu\") : /*#__PURE__*/React.createElement(Burger, {\n    color: \"#368dd6\",\n    opened: opened,\n    onClick: function onClick() {\n      return setOpened(function (o) {\n        return !o;\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline\",\n    className: \"login-button\",\n    onClick: function onClick() {\n      navigate(\"/login\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  }, \"Login\")))))));\n}","map":{"version":3,"sources":["/home/allie/Project/client-thecurrent/src/components/NavBar/NavBar.jsx"],"names":["Burger","Button","Container","Form","FormControl","Nav","Navbar","React","useEffect","useState","ExtendedNav","Search","anchorLogo","axios","thecurrentLogo","useNavigate","useViewportSize","NavBar","navigate","viewPort","loggedIn","setLoggedIn","name","setName","email","setEmail","query","setQuery","opened","setOpened","localStorage","getItem","post","process","env","REACT_APP_BASE_URL","token","then","res","data","catch","err","removeItem","logout","handleSearch","e","preventDefault","o","target","value","width","marginTop"],"mappings":"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","sourcesContent":["import \"./NavBar.css\";\n\nimport { Burger, Button } from \"@mantine/core\";\nimport { Container, Form, FormControl, Nav, Navbar } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\n\nimport ExtendedNav from \"./ExtendedNav\";\nimport { Search } from \"tabler-icons-react\";\nimport anchorLogo from \"../../img/anchor-logo.png\";\nimport axios from \"axios\";\nimport thecurrentLogo from \"../../img/thecurrent-logo.png\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useViewportSize } from \"@mantine/hooks\";\n\nexport default function NavBar() {\n  const navigate = useNavigate();\n  const viewPort = useViewportSize();\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  // eslint-disable-next-line\n  const [name, setName] = useState(\"\");\n  // eslint-disable-next-line\n  const [email, setEmail] = useState(\"\");\n  const [query, setQuery] = useState(\"\");\n  const [opened, setOpened] = useState(false);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      setLoggedIn(true);\n      axios\n        .post(`${process.env.REACT_APP_BASE_URL}/data`, {\n          token: localStorage.getItem(\"token\"),\n        })\n        .then((res) => {\n          setName(res.data.name);\n          setEmail(res.data.email);\n        })\n        .catch((err) => {\n          localStorage.removeItem(\"token\");\n          setLoggedIn(false);\n        });\n    }\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    navigate(\"/\");\n  };\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    navigate(`/search/${query}`);\n  };\n\n  return (\n    <>\n      <ExtendedNav\n        opened={opened}\n        loggedIn={loggedIn}\n        closeButton={() => setOpened((o) => !o)}\n        logout={() => logout()}\n      />\n      <Navbar collapseOnSelect expand=\"lg\" sticky=\"top\" variant=\"light\">\n        <Container>\n          <Navbar.Brand\n            onClick={() => {\n              navigate(\"/\");\n            }}\n          >\n            <img src={anchorLogo} height={35} alt=\"logo\" />\n            <img src={thecurrentLogo} height={35} alt=\"logo\" />\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n          <Navbar.Collapse>\n            {/* Search Bar */}\n            <Nav className=\"searchBar\">\n              <Form\n                className=\"d-flex\"\n                onSubmit={(e) => {\n                  handleSearch(e);\n                }}\n              >\n                <FormControl\n                  value={query}\n                  type=\"search\"\n                  aria-label=\"Search\"\n                  placeholder=\"Search\"\n                  className=\"me-2 w-100\"\n                  onChange={(e) => {\n                    setQuery(e.target.value);\n                  }}\n                />\n                <Button\n                  className=\"search-button\"\n                  type=\"submit\"\n                  variant=\"subtle\"\n                  size=\"sm\"\n                >\n                  <Search color=\"#368dd6\" size={20} />\n                </Button>\n              </Form>\n            </Nav>\n\n            {loggedIn ? (\n              viewPort.width <= 768 ? (\n                <Button\n                  fullWidth\n                  radius=\"xl\"\n                  variant=\"outline\"\n                  style={{ marginTop: \"1rem\" }}\n                  onClick={() => setOpened((o) => !o)}\n                >\n                  Menu\n                </Button>\n              ) : (\n                <Burger\n                  color=\"#368dd6\"\n                  opened={opened}\n                  onClick={() => setOpened((o) => !o)}\n                />\n              )\n            ) : (\n              <Nav>\n                <Nav.Link>\n                  <Button\n                    variant=\"outline\"\n                    className=\"login-button\"\n                    onClick={() => {\n                      navigate(\"/login\");\n                    }}\n                  >\n                    Login\n                  </Button>\n                </Nav.Link>\n              </Nav>\n            )}\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}