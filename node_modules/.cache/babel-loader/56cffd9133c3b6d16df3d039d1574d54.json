{"ast":null,"code":"import _slicedToArray from \"/home/allie/Project/client-thecurrent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/allie/Project/client-thecurrent/src/components/Profile/Profile.jsx\";\nimport \"./Profile.css\";\nimport { LayoutGridAdd, Logout, Settings } from \"tabler-icons-react\";\nimport React, { useEffect, useState } from \"react\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { Button } from \"@mantine/core\";\nimport { Card } from \"react-bootstrap\";\nimport Footer from \"../Footer/Footer\";\nimport { Loader } from \"@mantine/core\";\nimport NavBar from \"../NavBar/NavBar\";\nimport NewsCardSmall from \"../NewsCards/NewsCardSmall\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useViewportSize } from \"@mantine/hooks\";\nexport default function Profile() {\n  var _this = this;\n\n  var navigate = useNavigate();\n  var viewPort = useViewportSize();\n\n  var notifySuccess = function notifySuccess() {\n    return toast.success(\"Deleted Successfully!\");\n  };\n\n  var notifyError = function notifyError(message) {\n    return toast.error(message);\n  }; // eslint-disable-next-line\n\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      blogs = _useState6[0],\n      setBlogs = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 1),\n      isBlog = _useState8[0];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      loading = _useState10[0],\n      setLoading = _useState10[1];\n\n  useEffect(function () {\n    if (localStorage.getItem(\"token\")) {\n      axios.post(\"\".concat(process.env.REACT_APP_BASE_URL, \"/profile\"), {\n        token: localStorage.getItem(\"token\")\n      }).then(function (res) {\n        setName(res.data.name);\n        setEmail(res.data.email);\n        setBlogs(res.data.blogs.reverse());\n        setLoading(!loading);\n      }).catch(function (err) {\n        setLoading(!loading);\n        navigate(\"/login\");\n      });\n    } else {\n      setInterval(function () {\n        setLoading(false);\n      }, 1000);\n      navigate(\"/login\");\n    }\n  }, [navigate, setName, setEmail, setBlogs]);\n\n  var handlePost = function handlePost(id) {\n    navigate(\"/news/\".concat(id));\n  };\n\n  var handleDelete = function handleDelete(id) {\n    axios.post(\"\".concat(process.env.REACT_APP_BASE_URL, \"/delete\"), {\n      token: localStorage.getItem(\"token\"),\n      id: id\n    }).then(function (res) {\n      notifySuccess();\n      setBlogs(res.data.blogs.reverse());\n    }).catch(function (err) {\n      notifyError(err.response.data.error);\n\n      if (err.response.status === 401) {\n        navigate(\"/login\");\n      }\n    });\n  };\n\n  var logout = function logout() {\n    localStorage.removeItem(\"token\");\n    navigate(\"/\");\n  };\n\n  var handleEdit = function handleEdit(id) {\n    navigate(\"/edit/\".concat(id));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"Profile\"), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"basic-profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 19\n    }\n  }, email), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, \"Posts Published - \", blogs.length))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    radius: \"sm\",\n    color: \"dark\",\n    variant: \"default\",\n    className: \"tab-buttons\",\n    onClick: function onClick() {\n      return navigate(\"/create\");\n    },\n    leftIcon: /*#__PURE__*/React.createElement(LayoutGridAdd, {\n      size: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, \"Create Post\"), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    radius: \"sm\",\n    color: \"dark\",\n    variant: \"default\",\n    className: \"tab-buttons\",\n    leftIcon: /*#__PURE__*/React.createElement(Settings, {\n      size: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }),\n    onClick: function onClick() {\n      return navigate(\"/setting\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Setting\"), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    radius: \"sm\",\n    color: \"dark\",\n    variant: \"default\",\n    className: \"tab-buttons\",\n    onClick: function onClick() {\n      return logout();\n    },\n    leftIcon: /*#__PURE__*/React.createElement(Logout, {\n      size: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, \"Logout\"))), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    size: \"sm\",\n    variant: \"bars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-blogs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, isBlog ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"main-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, \"Your Posts\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, blogs.map(function (blog) {\n    return /*#__PURE__*/React.createElement(NewsCardSmall, {\n      blog: blog,\n      key: blog._id,\n      profile: true,\n      handlePost: handlePost,\n      handleEdit: handleEdit,\n      handleDelete: handleDelete,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    });\n  }))) : null)), /*#__PURE__*/React.createElement(Toaster, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/allie/Project/client-thecurrent/src/components/Profile/Profile.jsx"],"names":["LayoutGridAdd","Logout","Settings","React","useEffect","useState","toast","Toaster","Button","Card","Footer","Loader","NavBar","NewsCardSmall","axios","useNavigate","useViewportSize","Profile","navigate","viewPort","notifySuccess","success","notifyError","message","error","name","setName","email","setEmail","blogs","setBlogs","isBlog","loading","setLoading","localStorage","getItem","post","process","env","REACT_APP_BASE_URL","token","then","res","data","reverse","catch","err","setInterval","handlePost","id","handleDelete","response","status","logout","removeItem","handleEdit","length","map","blog","_id"],"mappings":";;AAAA,OAAO,eAAP;AAEA,SAASA,aAAT,EAAwBC,MAAxB,EAAgCC,QAAhC,QAAgD,oBAAhD;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,IAAgBC,OAAhB,QAA+B,iBAA/B;AAEA,SAASC,MAAT,QAAuB,eAAvB;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,MAAT,QAAuB,eAAvB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,eAAT,QAAgC,gBAAhC;AAEA,eAAe,SAASC,OAAT,GAAmB;AAAA;;AAChC,MAAMC,QAAQ,GAAGH,WAAW,EAA5B;AACA,MAAMI,QAAQ,GAAGH,eAAe,EAAhC;;AAEA,MAAMI,aAAa,GAAG,SAAhBA,aAAgB;AAAA,WAAMd,KAAK,CAACe,OAAN,CAAc,uBAAd,CAAN;AAAA,GAAtB;;AACA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,OAAD;AAAA,WAAajB,KAAK,CAACkB,KAAN,CAAYD,OAAZ,CAAb;AAAA,GAApB,CALgC,CAOhC;;;AAPgC,kBAQRlB,QAAQ,CAAC,EAAD,CARA;AAAA;AAAA,MAQzBoB,IARyB;AAAA,MAQnBC,OARmB;;AAAA,mBASNrB,QAAQ,CAAC,EAAD,CATF;AAAA;AAAA,MASzBsB,KATyB;AAAA,MASlBC,QATkB;;AAAA,mBAUNvB,QAAQ,CAAC,EAAD,CAVF;AAAA;AAAA,MAUzBwB,KAVyB;AAAA,MAUlBC,QAVkB;;AAAA,mBAWfzB,QAAQ,CAAC,IAAD,CAXO;AAAA;AAAA,MAWzB0B,MAXyB;;AAAA,mBAYF1B,QAAQ,CAAC,IAAD,CAZN;AAAA;AAAA,MAYzB2B,OAZyB;AAAA,MAYhBC,UAZgB;;AAchC7B,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI8B,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AACjCrB,MAAAA,KAAK,CACFsB,IADH,WACWC,OAAO,CAACC,GAAR,CAAYC,kBADvB,eACqD;AACjDC,QAAAA,KAAK,EAAEN,YAAY,CAACC,OAAb,CAAqB,OAArB;AAD0C,OADrD,EAIGM,IAJH,CAIQ,UAACC,GAAD,EAAS;AACbhB,QAAAA,OAAO,CAACgB,GAAG,CAACC,IAAJ,CAASlB,IAAV,CAAP;AACAG,QAAAA,QAAQ,CAACc,GAAG,CAACC,IAAJ,CAAShB,KAAV,CAAR;AACAG,QAAAA,QAAQ,CAACY,GAAG,CAACC,IAAJ,CAASd,KAAT,CAAee,OAAf,EAAD,CAAR;AACAX,QAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACD,OATH,EAUGa,KAVH,CAUS,UAACC,GAAD,EAAS;AACdb,QAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACAd,QAAAA,QAAQ,CAAC,QAAD,CAAR;AACD,OAbH;AAcD,KAfD,MAeO;AACL6B,MAAAA,WAAW,CAAC,YAAM;AAChBd,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OAFU,EAER,IAFQ,CAAX;AAGAf,MAAAA,QAAQ,CAAC,QAAD,CAAR;AACD;AACF,GAtBQ,EAsBN,CAACA,QAAD,EAAWQ,OAAX,EAAoBE,QAApB,EAA8BE,QAA9B,CAtBM,CAAT;;AAwBA,MAAMkB,UAAU,GAAG,SAAbA,UAAa,CAACC,EAAD,EAAQ;AACzB/B,IAAAA,QAAQ,iBAAU+B,EAAV,EAAR;AACD,GAFD;;AAIA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACD,EAAD,EAAQ;AAC3BnC,IAAAA,KAAK,CACFsB,IADH,WACWC,OAAO,CAACC,GAAR,CAAYC,kBADvB,cACoD;AAChDC,MAAAA,KAAK,EAAEN,YAAY,CAACC,OAAb,CAAqB,OAArB,CADyC;AAEhDc,MAAAA,EAAE,EAAEA;AAF4C,KADpD,EAKGR,IALH,CAKQ,UAACC,GAAD,EAAS;AACbtB,MAAAA,aAAa;AACbU,MAAAA,QAAQ,CAACY,GAAG,CAACC,IAAJ,CAASd,KAAT,CAAee,OAAf,EAAD,CAAR;AACD,KARH,EASGC,KATH,CASS,UAACC,GAAD,EAAS;AACdxB,MAAAA,WAAW,CAACwB,GAAG,CAACK,QAAJ,CAAaR,IAAb,CAAkBnB,KAAnB,CAAX;;AACA,UAAIsB,GAAG,CAACK,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC/BlC,QAAAA,QAAQ,CAAC,QAAD,CAAR;AACD;AACF,KAdH;AAeD,GAhBD;;AAkBA,MAAMmC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnBnB,IAAAA,YAAY,CAACoB,UAAb,CAAwB,OAAxB;AACApC,IAAAA,QAAQ,CAAC,GAAD,CAAR;AACD,GAHD;;AAKA,MAAMqC,UAAU,GAAG,SAAbA,UAAa,CAACN,EAAD,EAAQ;AACzB/B,IAAAA,QAAQ,iBAAU+B,EAAV,EAAR;AACD,GAFD;;AAIA,sBACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BtB,KAA7B,CADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACqBE,KAAK,CAAC2B,MAD3B,CAFF,CADF,CADF,CAFF,CADF,eAeE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,MAAM,EAAC,IAFT;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,OAAO,EAAC,SAJV;AAKE,IAAA,SAAS,EAAC,aALZ;AAME,IAAA,OAAO,EAAE;AAAA,aAAMtC,QAAQ,CAAC,SAAD,CAAd;AAAA,KANX;AAOE,IAAA,QAAQ,eAAE,oBAAC,aAAD;AAAe,MAAA,IAAI,EAAE,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAYE,oBAAC,MAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,MAAM,EAAC,IAFT;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,OAAO,EAAC,SAJV;AAKE,IAAA,SAAS,EAAC,aALZ;AAME,IAAA,QAAQ,eAAE,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANZ;AAOE,IAAA,OAAO,EAAE;AAAA,aAAMA,QAAQ,CAAC,UAAD,CAAd;AAAA,KAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAZF,eAuBE,oBAAC,MAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,MAAM,EAAC,IAFT;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,OAAO,EAAC,SAJV;AAKE,IAAA,SAAS,EAAC,aALZ;AAME,IAAA,OAAO,EAAE;AAAA,aAAMmC,MAAM,EAAZ;AAAA,KANX;AAOE,IAAA,QAAQ,eAAE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAE,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAvBF,CAfF,CADF,EAoDGrB,OAAO,gBACN;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,IAAb;AAAkB,IAAA,OAAO,EAAC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADM,gBAKN;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,MAAM,gBACL,uDACE;AAAI,IAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,KAAK,CAAC4B,GAAN,CAAU,UAACC,IAAD,EAAU;AACnB,wBACE,oBAAC,aAAD;AACE,MAAA,IAAI,EAAEA,IADR;AAEE,MAAA,GAAG,EAAEA,IAAI,CAACC,GAFZ;AAGE,MAAA,OAAO,EAAE,IAHX;AAIE,MAAA,UAAU,EAAEX,UAJd;AAKE,MAAA,UAAU,EAAEO,UALd;AAME,MAAA,YAAY,EAAEL,YANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAUD,GAXA,CADH,CAFF,CADK,GAkBH,IAnBN,CAzDJ,CAFF,eAkFE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlFF,eAmFE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnFF,CADF;AAuFD","sourcesContent":["import \"./Profile.css\";\n\nimport { LayoutGridAdd, Logout, Settings } from \"tabler-icons-react\";\nimport React, { useEffect, useState } from \"react\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nimport { Button } from \"@mantine/core\";\nimport { Card } from \"react-bootstrap\";\nimport Footer from \"../Footer/Footer\";\nimport { Loader } from \"@mantine/core\";\nimport NavBar from \"../NavBar/NavBar\";\nimport NewsCardSmall from \"../NewsCards/NewsCardSmall\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useViewportSize } from \"@mantine/hooks\";\n\nexport default function Profile() {\n  const navigate = useNavigate();\n  const viewPort = useViewportSize();\n\n  const notifySuccess = () => toast.success(\"Deleted Successfully!\");\n  const notifyError = (message) => toast.error(message);\n\n  // eslint-disable-next-line\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [blogs, setBlogs] = useState([]);\n  const [isBlog] = useState(true);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      axios\n        .post(`${process.env.REACT_APP_BASE_URL}/profile`, {\n          token: localStorage.getItem(\"token\"),\n        })\n        .then((res) => {\n          setName(res.data.name);\n          setEmail(res.data.email);\n          setBlogs(res.data.blogs.reverse());\n          setLoading(!loading);\n        })\n        .catch((err) => {\n          setLoading(!loading);\n          navigate(\"/login\");\n        });\n    } else {\n      setInterval(() => {\n        setLoading(false);\n      }, 1000);\n      navigate(\"/login\");\n    }\n  }, [navigate, setName, setEmail, setBlogs]);\n\n  const handlePost = (id) => {\n    navigate(`/news/${id}`);\n  };\n\n  const handleDelete = (id) => {\n    axios\n      .post(`${process.env.REACT_APP_BASE_URL}/delete`, {\n        token: localStorage.getItem(\"token\"),\n        id: id,\n      })\n      .then((res) => {\n        notifySuccess();\n        setBlogs(res.data.blogs.reverse());\n      })\n      .catch((err) => {\n        notifyError(err.response.data.error);\n        if (err.response.status === 401) {\n          navigate(\"/login\");\n        }\n      });\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    navigate(\"/\");\n  };\n\n  const handleEdit = (id) => {\n    navigate(`/edit/${id}`);\n  };\n\n  return (\n    <>\n      <NavBar />\n      <div className=\"profile-container\">\n        <div className=\"profile-card\">\n          <Card>\n            <Card.Header>Profile</Card.Header>\n            <Card.Body>\n              <div className=\"basic-profile\">\n                <div>\n                  <div className=\"user-email\">{email}</div>\n                  <div className=\"user-info\">\n                    Posts Published - {blogs.length}\n                  </div>\n                </div>\n              </div>\n            </Card.Body>\n          </Card>\n\n          <div className=\"tab\">\n            <Button\n              fullWidth\n              radius=\"sm\"\n              color=\"dark\"\n              variant=\"default\"\n              className=\"tab-buttons\"\n              onClick={() => navigate(\"/create\")}\n              leftIcon={<LayoutGridAdd size={20} />}\n            >\n              Create Post\n            </Button>\n            <Button\n              fullWidth\n              radius=\"sm\"\n              color=\"dark\"\n              variant=\"default\"\n              className=\"tab-buttons\"\n              leftIcon={<Settings size={20} />}\n              onClick={() => navigate(\"/setting\")}\n            >\n              Setting\n            </Button>\n            <Button\n              fullWidth\n              radius=\"sm\"\n              color=\"dark\"\n              variant=\"default\"\n              className=\"tab-buttons\"\n              onClick={() => logout()}\n              leftIcon={<Logout size={20} />}\n            >\n              Logout\n            </Button>\n          </div>\n        </div>\n        {loading ? (\n          <div className=\"loader\">\n            <Loader size=\"sm\" variant=\"bars\" />\n          </div>\n        ) : (\n          <div className=\"profile-blogs\">\n            {isBlog ? (\n              <>\n                <h1 className=\"main-heading\">Your Posts</h1>\n                <div>\n                  {blogs.map((blog) => {\n                    return (\n                      <NewsCardSmall\n                        blog={blog}\n                        key={blog._id}\n                        profile={true}\n                        handlePost={handlePost}\n                        handleEdit={handleEdit}\n                        handleDelete={handleDelete}\n                      />\n                    );\n                  })}\n                </div>\n              </>\n            ) : null}\n          </div>\n        )}\n      </div>\n      <Toaster />\n      <Footer />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}