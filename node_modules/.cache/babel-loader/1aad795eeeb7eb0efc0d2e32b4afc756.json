{"ast":null,"code":"import _slicedToArray from \"/home/allie/Project/client-thecurrent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/allie/Project/client-thecurrent/src/components/NavBar/NavBar.jsx\";\nimport \"./NavBar.css\";\nimport { Container, Form, FormControl, Nav, NavDropdown, Navbar } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button } from \"@mantine/core\";\nimport { FaSearch } from \"react-icons/fa\";\nimport Identicon from \"react-identicons\";\nimport { Search } from \"tabler-icons-react\";\nimport anchorLogo from \"../../img/anchor-logo.png\";\nimport axios from \"axios\";\nimport thecurrentLogo from \"../../img/thecurrent-logo.png\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function NavBar() {\n  var navigate = useNavigate();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loggedIn = _useState2[0],\n      setLoggedIn = _useState2[1]; // eslint-disable-next-line\n\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      query = _useState8[0],\n      setQuery = _useState8[1];\n\n  useEffect(function () {\n    if (localStorage.getItem(\"token\")) {\n      setLoggedIn(true);\n      axios.post(\"\".concat(process.env.REACT_APP_BASE_URL, \"/data\"), {\n        token: localStorage.getItem(\"token\")\n      }).then(function (res) {\n        setName(res.data.name);\n        setEmail(res.data.email);\n      }).catch(function (err) {\n        localStorage.removeItem(\"token\");\n        setLoggedIn(false);\n      });\n    }\n  }, []);\n\n  var logout = function logout() {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    navigate(\"/\");\n  };\n\n  var handleSearch = function handleSearch(e) {\n    e.preventDefault();\n    navigate(\"/search/\".concat(query));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    collapseOnSelect: true,\n    expand: \"lg\",\n    sticky: \"top\",\n    variant: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    onClick: function onClick() {\n      navigate(\"/\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: anchorLogo,\n    height: 35,\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: thecurrentLogo,\n    height: 35,\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n    \"aria-controls\": \"responsive-navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    className: \"searchBar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    className: \"d-flex\",\n    onSubmit: function onSubmit(e) {\n      handleSearch(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    value: query,\n    type: \"search\",\n    \"aria-label\": \"Search\",\n    placeholder: \"Search\",\n    className: \"me-2 w-100\",\n    onChange: function onChange(e) {\n      setQuery(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    color: \"#fff\",\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  })))), loggedIn ? /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(NavDropdown, {\n    style: {\n      textAlign: \"left\"\n    },\n    align: {\n      lg: \"end\"\n    },\n    title: /*#__PURE__*/React.createElement(Identicon, {\n      className: \"user-icon\",\n      string: email,\n      size: 35,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    onClick: function onClick() {\n      navigate(\"/profile\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }, \"Profile\"), /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    onClick: function onClick() {\n      navigate(\"/new\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, \"Create Post\"), /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, \"Logout\"))) : /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outine\",\n    className: \"login\",\n    onClick: function onClick() {\n      navigate(\"/login\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, \"Login\")))))));\n}","map":{"version":3,"sources":["/home/allie/Project/client-thecurrent/src/components/NavBar/NavBar.jsx"],"names":["Container","Form","FormControl","Nav","NavDropdown","Navbar","React","useEffect","useState","Button","FaSearch","Identicon","Search","anchorLogo","axios","thecurrentLogo","useNavigate","NavBar","navigate","loggedIn","setLoggedIn","name","setName","email","setEmail","query","setQuery","localStorage","getItem","post","process","env","REACT_APP_BASE_URL","token","then","res","data","catch","err","removeItem","logout","handleSearch","e","preventDefault","target","value","textAlign","lg"],"mappings":"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","sourcesContent":["import \"./NavBar.css\";\n\nimport {\n  Container,\n  Form,\n  FormControl,\n  Nav,\n  NavDropdown,\n  Navbar,\n} from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { Button } from \"@mantine/core\";\nimport { FaSearch } from \"react-icons/fa\";\nimport Identicon from \"react-identicons\";\nimport { Search } from \"tabler-icons-react\";\nimport anchorLogo from \"../../img/anchor-logo.png\";\nimport axios from \"axios\";\nimport thecurrentLogo from \"../../img/thecurrent-logo.png\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function NavBar() {\n  const navigate = useNavigate();\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  // eslint-disable-next-line\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [query, setQuery] = useState(\"\");\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      setLoggedIn(true);\n      axios\n        .post(`${process.env.REACT_APP_BASE_URL}/data`, {\n          token: localStorage.getItem(\"token\"),\n        })\n        .then((res) => {\n          setName(res.data.name);\n          setEmail(res.data.email);\n        })\n        .catch((err) => {\n          localStorage.removeItem(\"token\");\n          setLoggedIn(false);\n        });\n    }\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    navigate(\"/\");\n  };\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    navigate(`/search/${query}`);\n  };\n\n  return (\n    <>\n      <Navbar collapseOnSelect expand=\"lg\" sticky=\"top\" variant=\"light\">\n        <Container>\n          <Navbar.Brand\n            onClick={() => {\n              navigate(\"/\");\n            }}\n          >\n            <img src={anchorLogo} height={35} alt=\"logo\" />\n            <img src={thecurrentLogo} height={35} alt=\"logo\" />\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n          <Navbar.Collapse>\n            {/* Search Bar */}\n            <Nav className=\"searchBar\">\n              <Form\n                className=\"d-flex\"\n                onSubmit={(e) => {\n                  handleSearch(e);\n                }}\n              >\n                <FormControl\n                  value={query}\n                  type=\"search\"\n                  aria-label=\"Search\"\n                  placeholder=\"Search\"\n                  className=\"me-2 w-100\"\n                  onChange={(e) => {\n                    setQuery(e.target.value);\n                  }}\n                />\n                <Button type=\"submit\" variant=\"default\">\n                  <Search color=\"#fff\" size={20} />\n                </Button>\n              </Form>\n            </Nav>\n\n            {loggedIn ? (\n              <Nav>\n                {/* <Nav.Link>\n                  <Button\n                    variant=\"success\"\n                    className=\"new-post\"\n                    onClick={() => {\n                      navigate(\"/new\");\n                    }}\n                  >\n                    Create New Post\n                  </Button>\n                </Nav.Link> */}\n                <NavDropdown\n                  style={{\n                    textAlign: \"left\",\n                  }}\n                  align={{ lg: \"end\" }}\n                  title={\n                    <Identicon className=\"user-icon\" string={email} size={35} />\n                  }\n                >\n                  <NavDropdown.Item\n                    onClick={() => {\n                      navigate(\"/profile\");\n                    }}\n                  >\n                    Profile\n                  </NavDropdown.Item>\n                  <NavDropdown.Item\n                    onClick={() => {\n                      navigate(\"/new\");\n                    }}\n                  >\n                    Create Post\n                  </NavDropdown.Item>\n                  <NavDropdown.Item onClick={logout}>Logout</NavDropdown.Item>\n                </NavDropdown>\n              </Nav>\n            ) : (\n              <Nav>\n                <Nav.Link>\n                  <Button\n                    variant=\"outine\"\n                    className=\"login\"\n                    onClick={() => {\n                      navigate(\"/login\");\n                    }}\n                  >\n                    Login\n                  </Button>\n                </Nav.Link>\n                {/* <Nav.Link>\n                  <Button\n                    variant=\"success\"\n                    className=\"signup\"\n                    onClick={() => {\n                      navigate(\"/signup\");\n                    }}\n                  >\n                    Signup\n                  </Button>\n                </Nav.Link> */}\n              </Nav>\n            )}\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}